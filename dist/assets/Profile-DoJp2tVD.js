import{u as b,r as t,j as s,s as h}from"./index-CWau8kv9.js";function p(){const{user:l,profile:e}=b(),[n,r]=t.useState((e==null?void 0:e.full_name)??""),[u,c]=t.useState((e==null?void 0:e.username)??""),[o,i]=t.useState(!1),[d,m]=t.useState(null);if(t.useEffect(()=>{r((e==null?void 0:e.full_name)??""),c((e==null?void 0:e.username)??"")},[e==null?void 0:e.full_name,e==null?void 0:e.username]),!l)return s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"mb-2 text-2xl font-semibold",children:"Profile"}),s.jsx("p",{className:"text-sm opacity-80",children:"You need to be logged in to view your profile."})]});const x=async()=>{i(!0),m(null);const{error:a}=await h.from("profiles").upsert({id:l.id,full_name:n,username:u||null});m(a?a.message:"Saved!"),i(!1)};return s.jsxs("div",{className:"mx-auto w-full max-w-2xl p-4",children:[s.jsx("h1",{className:"mb-6 text-2xl font-semibold",children:"Your profile"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm opacity-80",children:"Full name"}),s.jsx("input",{className:"w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-black dark:border-neutral-700 dark:bg-neutral-900 dark:focus:ring-white",value:n,onChange:a=>r(a.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm opacity-80",children:"Username"}),s.jsx("input",{className:"w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-black dark:border-neutral-700 dark:bg-neutral-900 dark:focus:ring-white",value:u,onChange:a=>c(a.target.value.toLowerCase().replace(/\s+/g,"")),placeholder:"jouwnaam"}),s.jsx("p",{className:"mt-1 text-xs opacity-70",children:"Moet uniek zijn."})]}),s.jsx("button",{onClick:x,disabled:o,className:"rounded-xl bg-black px-4 py-2 text-sm text-white hover:opacity-90 disabled:opacity-50 dark:bg-white dark:text-black",children:o?"Savingâ€¦":"Save changes"}),d&&s.jsx("p",{className:"text-sm opacity-80",children:d})]})]})}export{p as default};
