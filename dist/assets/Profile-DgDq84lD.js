import{u as b,r as t,j as s,s as h}from"./index-Dk9Y66no.js";function p(){const{user:n,profile:e}=b(),[r,u]=t.useState((e==null?void 0:e.full_name)??""),[c,o]=t.useState((e==null?void 0:e.username)??""),[i,d]=t.useState(!1),[m,l]=t.useState(null);if(t.useEffect(()=>{u((e==null?void 0:e.full_name)??""),o((e==null?void 0:e.username)??"")},[e==null?void 0:e.full_name,e==null?void 0:e.username]),!n)return s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"mb-2 text-2xl font-semibold",children:"Profile"}),s.jsx("p",{className:"text-sm opacity-80",children:"You need to be logged in to view your profile."})]});const x=async()=>{d(!0),l(null);const{error:a}=await h.from("profiles").upsert({id:n.id,full_name:r,username:c||null});l(a?a.message:"Saved!"),d(!1)};return s.jsxs("div",{className:"mx-auto w-full max-w-2xl p-4",children:[s.jsx("h1",{className:"mb-6 text-2xl font-semibold",children:"Your profile"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm opacity-80",children:"Full name"}),s.jsx("input",{className:"w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-black dark:border-neutral-700 dark:bg-neutral-900 dark:focus:ring-white",value:r,onChange:a=>u(a.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm opacity-80",children:"Username"}),s.jsx("input",{className:"w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-black dark:border-neutral-700 dark:bg-neutral-900 dark:focus:ring-white",value:c,onChange:a=>o(a.target.value.toLowerCase().replace(/\s+/g,"")),placeholder:"jouwnaam"}),s.jsx("p",{className:"mt-1 text-xs opacity-70",children:"Moet uniek zijn."})]}),s.jsx("button",{onClick:x,disabled:i,className:"rounded-xl bg-black px-4 py-2 text-sm text-white hover:opacity-90 disabled:opacity-50 dark:bg-white dark:text-black",children:i?"Savingâ€¦":"Save changes"}),m&&s.jsx("p",{className:"text-sm opacity-80",children:m})]})]})}export{p as default};
