import{r as l,j as e}from"./index-BZn6MCEi.js";import{W as p}from"./WorkoutCard-BCFfZEe3.js";import{l as h}from"./workouts-client-Cg9OSv1j.js";function f(){const[a,i]=l.useState({equipment:"any",duration:"any"}),[s,v]=l.useState([]),[x,d]=l.useState(!1),[u,c]=l.useState(null);l.useEffect(()=>{let t=!0;return d(!0),c(null),h({q:a.q,goal:a.goal||void 0,level:a.level||void 0,location:a.location||void 0,equipment:a.equipment&&a.equipment!=="any"?a.equipment:void 0,duration:a.duration&&a.duration!=="any"?a.duration:void 0}).then(n=>{t&&v(n||[])}).catch(n=>{t&&c((n==null?void 0:n.message)??"Kon workouts niet laden.")}).finally(()=>t&&d(!1)),()=>{t=!1}},[a]);const r="h-10 text-sm rounded-lg border px-3 outline-none transition bg-white text-zinc-900 border-zinc-300 dark:bg-zinc-900 dark:text-zinc-100 dark:border-zinc-700 placeholder:text-zinc-500 dark:placeholder:text-zinc-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/30",o=r+" pr-8",m=l.useMemo(()=>!!a.q||!!a.goal||!!a.level||a.equipment&&a.equipment!=="any"||a.duration&&a.duration!=="any",[a]);return e.jsxs("div",{className:"px-4 py-4 max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-3",children:"Workout Library"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("input",{value:a.q??"",onChange:t=>i(n=>({...n,q:t.target.value})),placeholder:"Zoek workout...",className:r+" flex-1 sm:w-64","aria-label":"Zoek workout"}),e.jsxs("select",{value:a.goal??"",onChange:t=>i(n=>({...n,goal:t.target.value||void 0})),className:o,"aria-label":"Filter op doel",children:[e.jsx("option",{value:"",children:"Alle doelen"}),e.jsx("option",{value:"strength",children:"Kracht"}),e.jsx("option",{value:"hypertrophy",children:"Spieropbouw"}),e.jsx("option",{value:"fat_loss",children:"Vetverlies"}),e.jsx("option",{value:"conditioning",children:"Conditioning"}),e.jsx("option",{value:"mobility",children:"Mobiliteit"}),e.jsx("option",{value:"endurance",children:"Uithouding"}),e.jsx("option",{value:"event",children:"Event"})]}),e.jsxs("select",{value:a.level??"",onChange:t=>i(n=>({...n,level:t.target.value||void 0})),className:o,"aria-label":"Filter op niveau",children:[e.jsx("option",{value:"",children:"Alle niveaus"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Gevorderd"}),e.jsx("option",{value:"advanced",children:"Advanced"})]}),e.jsxs("select",{value:a.equipment??"any",onChange:t=>i(n=>({...n,equipment:t.target.value})),className:o,"aria-label":"Materiaal",children:[e.jsx("option",{value:"any",children:"Alle materialen"}),e.jsx("option",{value:"with",children:"Met materiaal"}),e.jsx("option",{value:"without",children:"Zonder materiaal"})]}),e.jsxs("select",{value:a.duration??"any",onChange:t=>i(n=>({...n,duration:t.target.value})),className:o,"aria-label":"Duur",children:[e.jsx("option",{value:"any",children:"Alle tijden"}),e.jsx("option",{value:"15",children:"15 min"}),e.jsx("option",{value:"30",children:"30 min"}),e.jsx("option",{value:"45",children:"45 min"}),e.jsx("option",{value:"60",children:"60 min"}),e.jsx("option",{value:"90",children:"90 min"})]}),e.jsx("button",{className:r+" px-3 h-10",onClick:()=>i({equipment:"any",duration:"any"}),disabled:!m,title:"Reset filters",children:"Reset"})]}),u&&e.jsxs("div",{className:"mt-3 text-sm text-red-600 dark:text-red-400",children:["Error: ",u]}),x?e.jsx("div",{className:"mt-4 grid gap-3",children:Array.from({length:6}).map((t,n)=>e.jsx("div",{className:"h-24 rounded-2xl bg-zinc-100 dark:bg-zinc-800 animate-pulse"},n))}):s.length?e.jsx("div",{className:"mt-4 grid gap-3",children:s.map(t=>e.jsx(p,{id:t.id,title:t.title,duration:t.duration_minutes??void 0,level:t.level??void 0,tags:[],thumbnail:void 0,to:`/modules/programs/${t.id}`},t.id))}):e.jsxs("div",{className:"mt-4 text-sm text-zinc-500 dark:text-zinc-400",children:["Geen workouts gevonden. Pas je filters aan of voeg workouts toe in Supabase (Table Editor â†’ ",e.jsx("code",{children:"workouts"}),")."]})]})}export{f as default};
