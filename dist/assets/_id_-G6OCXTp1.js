import{e as N,r as i,j as n,L as $}from"./index-BZn6MCEi.js";const c="https://jajfjspotcwxllkeuysn.supabase.co/storage/v1/object/public/workouts/exercises/v20250905";async function d(s){const e=await fetch(s,{headers:{"cache-control":"no-cache"}});if(!e.ok)throw new Error(`HTTP ${e.status} @ ${s}`);return await e.json()}function O(){var m,h,b,f,k,x;const{id:s}=N(),[e,u]=i.useState(null),[,z]=i.useState(null);i.useEffect(()=>{let t=!0;async function a(){try{let r=c;try{const o=await d(`${c.replace(/\/+$/g,"")}/index.json`),l=(o==null?void 0:o.exercises_latest)||(o==null?void 0:o.latest);l&&(r=`${c.replace(/\/+$/g,"")}/${l}`)}catch{}const w=await d(`${r}/manifest.json`);for(let o=0;o<w.chunks;o++){const p=(await d(`${r}/chunk-${String(o).padStart(3,"0")}.json`)).find(v=>v.id===s);if(p){t&&u(p);return}}t&&u(null)}catch(r){console.error(r),t&&z((r==null?void 0:r.message)??"Kon oefening niet laden.")}}return a(),()=>{t=!1}},[s]);const j=i.useMemo(()=>{var t,a;return(((a=(t=e==null?void 0:e.media)==null?void 0:t.videos)==null?void 0:a.length)??0)>0},[e]);function y(){if(e)try{const t="myWorkoutDraft",a=JSON.parse(localStorage.getItem(t)||"[]"),r=Array.from(new Set([...a,e.id]));localStorage.setItem(t,JSON.stringify(r)),alert(`Toegevoegd aan eigen workout: ${e.name}`)}catch{alert("Kon niet opslaan in je eigen workout.")}}const g=((h=(m=e==null?void 0:e.media)==null?void 0:m.images)==null?void 0:h[0])??((b=e==null?void 0:e.media)==null?void 0:b.thumbnail)??void 0;return n.jsxs("section",{className:"px-4 py-6 max-w-3xl mx-auto space-y-4",children:[n.jsxs("header",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",children:(e==null?void 0:e.name)||"Oefening"}),n.jsxs("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:[(e==null?void 0:e.category)??"strength",(f=e==null?void 0:e.primaryMuscles)!=null&&f.length?` • ${e.primaryMuscles.join(", ")}`:"",(k=e==null?void 0:e.equipment)!=null&&k.length?` • ${e.equipment.join(", ")}`:""]})]}),n.jsx($,{to:"/modules/workouts",className:"text-sm text-orange-600 dark:text-orange-400 hover:underline",children:"← Terug"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:y,className:`inline-flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm\r
                     bg-white text-zinc-900 border-zinc-300 hover:bg-zinc-50 hover:border-zinc-400\r
                     focus:outline-none focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500\r
                     dark:bg-zinc-900 dark:text-zinc-100 dark:border-zinc-700\r
                     dark:hover:bg-zinc-800/80 dark:hover:border-zinc-600`,title:"Voeg deze oefening toe aan je eigen workout",children:"Voeg toe aan eigen workout"}),j?n.jsx("button",{type:"button",onClick:()=>alert("Voorbeelden openen (TODO)"),className:`inline-flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm\r
                       bg-white text-zinc-900 border-zinc-300 hover:bg-zinc-50 hover:border-zinc-400\r
                       focus:outline-none focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500\r
                       dark:bg-zinc-900 dark:text-zinc-100 dark:border-zinc-700\r
                       dark:hover:bg-zinc-800/80 dark:hover:border-zinc-600`,children:"Bekijk voorbeelden"}):n.jsx("button",{type:"button",disabled:!0,className:`inline-flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm\r
                       bg-zinc-100 text-zinc-400 border-zinc-200 cursor-not-allowed\r
                       dark:bg-zinc-800 dark:text-zinc-500 dark:border-zinc-700`,title:"Geen video beschikbaar",children:"Bekijk voorbeelden"})]}),g?n.jsx("div",{className:"rounded-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800",children:n.jsx("img",{src:g,alt:(e==null?void 0:e.name)??"Oefening",className:"w-full h-64 object-cover",loading:"lazy"})}):null,n.jsxs("section",{className:"rounded-2xl border border-zinc-200 dark:border-zinc-800 p-4 bg-white/70 dark:bg-zinc-900/60",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Instructies"}),(x=e==null?void 0:e.instructions)!=null&&x.length?n.jsx("ol",{className:"mt-2 list-decimal pl-5 space-y-1 text-sm text-zinc-700 dark:text-zinc-300",children:e.instructions.map((t,a)=>n.jsx("li",{children:t},a))}):n.jsx("p",{className:"mt-2 text-sm text-zinc-600 dark:text-zinc-400",children:(e==null?void 0:e.description)||"Voor deze oefening zijn nog geen specifieke instructies beschikbaar."})]}),n.jsxs("p",{className:"text-[11px] text-zinc-500 dark:text-zinc-500",children:["Oefening ID: ",(e==null?void 0:e.id)??s]})]})}export{O as default};
